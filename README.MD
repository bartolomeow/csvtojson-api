#  Hackathon BCN Inclusive Coding
## CSV to JSON - Backend Challenge

Este repositorio se ha desarrollado durante la Hackathon organizada por NUWE, Mobile World Capital Barcelona y Cruz Roja, donde se nos ha planteado el reto de hacer una API basada en NodeJS para convertir archivos CSV en objetos JSON m谩s manejables.

Se espera desarrollar lo siguiente:

<details>

<summary>Click to expand!</summary>

Hay veces que los datos no siempre nos llegan como queremos. Cuando los usuarios suben datos no suelen hacerlo en json ni formatos f谩cilmente trabajables desde el c贸digo. Es por eso que este reto se basa en eso: crear una funci贸n que convierta un archivo CSV y devuelva un json con los datos.

Se pueden utilizar paquetes y librer铆as. No es necesario crear un nuevo archivo json, solo devolverlo a trav茅s de una llamada a la API.

Stack propuesto: NodeJS

</details>

## Soluci贸n y endpoints

Se ha trabajado bajo el framework ExpressJS para desarrollar la aplicaci贸n solicitada. Se trata de un framework minimalista usado en desarrollo web, concretamente en el backend. Con 茅l, programaremos nuestra API.

Hemos desplegado dos endpoints para poder realizar las peticiones HTTP deseadas seg煤n el n煤mero de columnas del archivo CSV a convertir.

Se han dispuesto dos archivos distintos CSV, uno con una sola columna y otro con varias columnas. Realmente ambos endpoints pueden funcionar tanto con archivos CSV de una sola columna como de varias columnas, pero para mostrar el funcionamiento con un archivo con una sola columna se han dispuesto dos archivos y dos endpoints por separado.

Para solucionar el env铆o de n煤meros en formato number (ya sea integer o cualquier otro subtipo) se hace uso de los patrones RegExp para la extracci贸n de los n煤meros entrecomillados.


Para archivos CSV de una sola columna:
[localhost:8080/api/csvtojson/1column](http://localhost:8080/api/csvtojson/1column)\
Para archivos CSV multicolumna: [localhost:8080/api/csvtojson](http://localhost:8080/api/csvtojson)


No es necesaria autenticaci贸n para acceder a cada uno de los endpoints al ser desplegado en local. Sin embargo, si se desea desplegar en remoto, se debe considerar implementar una soluci贸n en seguridad tal como tokens JWT para validar las peticiones.

## Herramientas de validaci贸n de c贸digo

Se valida que nuestro c贸digo es correcto con la herramienta Sonarcloud.io

![SonarCloud](https://raw.githubusercontent.com/bartolomeow/csvtojson-api/master/assets/SonarCloud.jpg)

https://sonarcloud.io/summary/overall?id=bartolomeow_csvtojson-api

No tenemos ning煤n bug ni Code Smells, estos han sido corregidos en el desarrollo del proyecto.

## rbol de archivos

```
csvtojson-api
assets
examples
postman
```

## Stack

| Package         | Version |
| --------------- | ------- |
| express         | 4.18.1  |
| csvtojson       | 2.0.10  |
| dotenv          | 16.0.1  |
| helmet          | 5.1.0   |
| morgan          | 1.10.0  |
| helmet          | 5.1.0   |

## Ejecuci贸n del c贸digo

En la ra铆z del proyecto, en un PC con Node.js y npm instalados, ejecutar los siguientes comandos:

### `npm install`

Instala todos los paquetes necesarios para ejecutar la aplicaci贸n en modo local

### `node app.js`

Ejecuta la aplicaci贸n en modo desarrollo.\
Realizar las llamadas a los endpoints definidos en el apartado Soluci贸n y endpoints.

### Testing

Para ejecutar los tests en Postman, crear una nueva colecci贸n en Postman, importar el archivo \
`Hackathon carlosorsth.postman_collection.json`\
Esto nos crear谩 la estructura para nuestras llamadas a API

Para poder importar los tests, se debe copiar y pegar el contenido del archivo\
`.postmantests`\
en el apartado Tests de Postman.
Despu茅s, podemos pulsar el bot贸n SEND para recibir el JSON.

![Postman](https://raw.githubusercontent.com/bartolomeow/csvtojson-api/master/assets/Postman.jpg)

## Contacto

https://www.linkedin.com/in/carlospaque/

carlos@carlospaque.com

https://www.carlospaque.com



